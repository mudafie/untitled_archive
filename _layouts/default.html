<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>
    {% if page.title %}{{ page.title }} | {% endif %}untitled_archive
  </title>
  <link rel="stylesheet" href="/untitled_archive/style.css">
  <link rel="apple-touch-icon" sizes="180x180" href="/untitled_archive/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/untitled_archive/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/untitled_archive/favicon-16x16.png">
  <link rel="manifest" href="/untitled_archive/site.webmanifest">
</head>
<body>
  <header class="site-header">
    <div class="site-title">
      <a href="/untitled_archive/">untitled_archive</a>
    </div>

    <nav class="site-nav">
      <a href="/untitled_archive/">home</a>
      <span class="sep">|</span>
      <a href="/untitled_archive/notes/">notes</a>
      <span class="sep">|</span>
      <a href="/untitled_archive/fragments/">fragments</a>
      <span class="sep">|</span>
      <a href="/untitled_archive/updates/">updates</a>
      <span class="sep">|</span>
      <a href="/untitled_archive/about/">about</a>
    </nav>
  </header>

  <main class="page">
    {% if page.url == "/untitled_archive/" or page.url == "/untitled_archive/index.html" %}
      <section class="front-matter">
        <p>
          This is a notebook first. Some pages contradict others. That is allowed here.
        </p>
        <p>
          Over time, a few notes may harden into positions. If that happens, you'll be able to trace it.
        </p>
        <p>
          This site is a personal archive and collection of writings by an individual.
          It is not affiliated with any organization.
        </p>
      </section>

      <section class="current-status">
        <p><strong>status:</strong> writing in the dark</p>
        <p><strong>listening to:</strong> silence</p>
        <p><strong>thinking about:</strong> whatever</p>
      </section>

      <section class="random-fragment">
        <p><em id="fragment-text"></em>loading fragment...</p>
      </section>

      <script>
        const fragments = [
          {% for fragment in site.fragments %}
          {{ fragment.text | jsonify }}{% unless forloop.last %},{% endunless %}
          {% endfor %}
        ];
        
        if (fragments.length > 0) {
          const random = fragments[Math.floor(Math.random() * fragments.length)];
          document.getElementById("fragment-text").textContent = random;
        }
      </script>
      <hr>
    {% endif %}

    {% if page.title %}
      <h1 class="page-title">{{ page.title }}</h1>
    {% endif %}

    {% if page.date %}
      <div class="page-meta">written: {{ page.date | date: "%Y-%m-%d" }}</div>
    {% endif %}

    <section class="content">
      {{ content }}
    </section>

    <hr>

    <footer class="site-footer">
      <div class="footer-line">last build: {{ site.time | date: "%Y-%m-%d" }}</div>
      <div class="footer-line">some pages unfinished; some links may break</div>
    </footer>
  </main>
</body>
</html>
